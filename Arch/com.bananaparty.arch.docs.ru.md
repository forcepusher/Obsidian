# Архитектура "Малиновый Звон"

![[media/malinoviyzvon.mp4]]

## Оглавление
Материал будет состоять из практических и философских частей.
- На философской части мы стабилизируем понимание слова "объект" и всего, что с ним связано, чтобы понять принятые решения и совершать меньше детских ошибок.
- На практике мы нырнём сразу в дело и сделаем с помощью пары скриптов то, ради чего в Unity проект несут несколько лагучих неудобных фреймворков.
- Так же будет блок по авто тестированию проектов. Никто вам не выделит целый отдел тестировщиков. Не у всех есть бюджет, чтоб закидать проблему деньгами.

## TL;DR выжимка:
#### Философия объекта
- Представьте, что объект это самостоятельная консольная программа. Из неё нельзя просто так достать чё хочешь и вертеть как хочешь, у неё есть свой интерфейс командной строки (CLI) для общения с программой (например как Git в терминале).
  (источник: [мой старый пост](https://forcepusher.tumblr.com/post/646953788143484928/my-take-on-explaining-oop-to-traditional))
- Интерфейс это протокол коммуникации между объектами, формализующий контракт выполняемой работы. Объекты с одинаковыми интерфейсами взаимозаменяемы, то есть реализуют полиморфизм. Наследование это инструмент для переиспользования кода, и это единственная его роль. Общий интерфейс у наследуемых классов это следствие, а не причина использования наследования.
  (источник: я)
- Класс это синтаксический сахар для создания интерфейса, полей, и методов объекта в одном месте. Модификаторы доступа определяют публичный интерфейс класса. Сокрытие в этом смысле так же реализуется интерфейсами.
  (источник: я)
- Наследование это механизм для реюза кода, и это единственная его роль. Полиморфизм это не причина, а следствие его использования.
  (источники: Егор Бугаенко и я)
- Конструктор это статический Factory Method с контрактом для инициализации полей объекта. Он подготавливает объект к работе. Другие механизмы не должны дублировать эту роль.
  (источник: я)
- Объект состоит из поведения и состояния. Поведение - главный признак объекта, не бывает поведения в вакууме. Бесполезных состояний тоже не бывает, это тогда структура. Деление объекта на Model, View и Controller (либо другой MV*) это ошибка дизайна.
  (источники: David West - Object Thinking и Егор Бугаенко- Elegant Objects)
- В наименовании объекта содержится 80% решения проблемы. Имя не должно быть излишне абстрактным, ненадо бояться конкретики.
  (источник: тоже я)
- Избегать названия объектов, образованных от глагола (Manager, Controller, Presenter, Handler), оно должно оканчиваться существительным. Основной детектор ошибки это окончания -er. Бывают редкие исключения как Customer, Computer, но идею вы поняли.
  Объекты надо называть исходя из того что они содержат и чем являются.
  (источники: Егор Бугаенко, Peter Coad, Carlo Pescio, Travis Griggs, Ben Hall)
#### Волшебные скрипты для архитектуры в Unity
- Инспектор это наш конструктор в монобехах.
#### Как выжить в Unity без толпы тестировщиков


Плясать под дудку фреймворка и додика который его пропихивает в проект. А что, если можно решить точнчно только саму проблему, и по мере её поступления, а не городить сразу огород под MMO Ведьмак 6? Именно так и захочет бизнес.