# Архитектура "Малиновый Звон"

![[media/malinoviyzvon.mp4]]

## Оглавление
Материал будет состоять из практических и философских частей.
- На философской части мы стабилизируем понимание слова "объект" и всего, что с ним связано, чтобы понять принятые решения и совершать меньше детских ошибок.
- На практике мы нырнём сразу в дело и сделаем с помощью пары скриптов то, ради чего в Unity проект несут несколько лагучих неудобных фреймворков.
- Так же будет блок по авто тестированию проектов. Никто вам не выделит целый отдел тестировщиков. Не у всех есть бюджет, чтоб закидать проблему деньгами.
## TL;DR выжимка:
Пункты будут доработаны из TL;DR версии в полный трактат по запросу "пояснить за базар".
#### Спидран по философии объекта
- Представьте, что объект это самостоятельная консольная программа. Из неё нельзя просто так достать чё хочешь и вертеть как хочешь, у неё есть свой интерфейс командной строки (CLI) для общения с программой (например как у Git в терминале). В нашем случае интерфейсом являются публичные методы класса, либо явно заданный интерфейс.
  (источник: [мой старый пост](https://forcepusher.tumblr.com/post/646953788143484928/my-take-on-explaining-oop-to-traditional))
- Объект состоит из поведения и состояния. Поведение - главный признак объекта, не бывает поведения в вакууме. Объектов без поведения тоже не бывает, это структура. Поэтому деление на Model, View и Controller (либо другой MV*) это ошибка дизайна.
  (источники: David West - Object Thinking, и Егор Бугаенко- Elegant Objects)
- В наименовании класса содержится 80% решения проблемы. Имя не должно быть излишне абстрактным - наоборот, ненадо бояться конкретики. И не пытайтесь набить цену вашему классу, продавая его умным названием. Если назвать дом хендлером жителей, то и делать будешь хендлер жителей, а не дом.
  (источник: тоже я)
- Избегать названия объектов, образованных от глагола (Manager, Controller, Presenter, Handler), оно должно оканчиваться существительным. Основной детектор ошибки это окончания -er. Бывают редкие исключения как Customer, Computer, но идею вы поняли.
  Объекты надо называть исходя из того что они содержат и чем являются.
  (источники: Егор Бугаенко, Peter Coad, Carlo Pescio, Travis Griggs, Ben Hall)
#### Волшебные скрипты для архитектуры в Unity
- Инспектор это наш конструктор в монобехах.
#### Как выжить без толпы тестировщиков



Плясать под дудку фреймворка и додика который его пропихивает в проект. А что, если можно решить точнчно только саму проблему, и по мере её поступления, а не городить сразу огород под MMO Ведьмак 6? Именно так и захочет бизнес.